@page
@model EmailModel
@{
    ViewData["ActivePage"] = ManageNavPages.Email;
}
<partial name="_StatusMessage" for="StatusMessage" />
<form id="email-form" method="post" class="w-full space-y-6 mt-16">
    <h3 class="text-lg font-bold text-zinc-700 mb-4">(ایمیل) اطلاعات هویتی</h3>
    <div asp-validation-summary="All" class="text-red-500 text-sm" role="alert"></div>

    @if (Model.IsEmailConfirmed)
    {
        <!-- Confirmed Email -->
        <div class="flex items-center gap-x-2">
            <input asp-for="Email" placeholder="لطفا ایمیل خود را وارد کنید" disabled
                class="rounded-2xl text-sm text-zinc-600 w-full border border-green-300 bg-zinc-100 px-5 py-3.5 
                       placeholder:text-zinc-400 placeholder:text-xs" />
            <span class="text-green-500 font-bold text-lg">✓</span>
        </div>
    }
    else
    {
        <!-- Unconfirmed Email -->
        <div class="flex flex-col sm:flex-row gap-2">
            <input asp-for="Email" placeholder="لطفا ایمیل خود را وارد کنید" disabled
                class="rounded-2xl text-sm text-zinc-600 w-full border border-zinc-200 bg-zinc-100 px-5 py-3.5 
                       placeholder:text-zinc-400 placeholder:text-xs" />
            <button id="email-verification" type="submit" asp-page-handler="SendVerificationEmail"
                class="rounded-2xl border border-primary-300 text-primary-600 hover:bg-primary-50 
                       text-sm px-5 py-3.5 transition">
                ارسال تایید ایمیل
            </button>
        </div>
    }

    <!-- New Email -->
    <div class="flex flex-col gap-y-1">
        <label asp-for="Input.NewEmail" class="text-zinc-700 flex">
            ایمیل جدید
            <svg class="fill-red-500 ml-1" xmlns="http://www.w3.org/2000/svg" width="10" height="10"
                viewBox="0 0 256 256">
                <path
                    d="M210.23,101.57l-72.6,29 51.11,65.71a6,6,0,0,1-9.48,7.36L128,137.77,76.74,203.68a6,6,0,1,1-9.48-7.36l51.11-65.71-72.6-29a6,6,0,1,1,4.46-11.14L122,119.14V40a6,6,0,0,1,12,0v79.14l71.77-28.71a6,6,0,1,1,4.46,11.14Z" />
            </svg>
        </label>
        <input asp-for="Input.NewEmail" autocomplete="email" aria-required="true"
            placeholder="لطفا ایمیل جدید را وارد کنید"
            class="rounded-2xl text-sm text-zinc-600 w-full border border-zinc-200 px-5 py-3.5 
                   placeholder:text-zinc-400 placeholder:text-xs 
                   focus:outline-1 focus:outline-primary-300 focus:border-primary-300" />
        <span asp-validation-for="Input.NewEmail" class="text-red-500 text-sm"></span>
    </div>

    <!-- Submit -->
    <button id="change-email-button" type="submit" asp-page-handler="ChangeEmail"
        class="w-full rounded-2xl bg-green-600 hover:bg-green-700 text-white font-medium py-3 transition">
        ثبت
    </button>
</form>

@* @section ScriptRefrence { *@ 
@*     <partial name="_ValidationScriptsPartial" /> *@
@* } *@
